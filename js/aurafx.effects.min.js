!function(){"use strict";if(void 0===window.AuraFX)return void console.warn("AuraFX Effects requires aurafx.core.js to be loaded first");const t=(t,e=document)=>e.querySelector(t),e=(t,e=document)=>Array.from(e.querySelectorAll(t)),n=window.matchMedia?.("(prefers-reduced-motion: reduce)");function o(){return!(n&&n.matches)}function i(){const t=e(".card-spot");0!==t.length&&(t.forEach(t=>{t.addEventListener("mousemove",e=>{const n=t.getBoundingClientRect();t.style.setProperty("--mx",e.clientX-n.left+"px"),t.style.setProperty("--my",e.clientY-n.top+"px")})}),console.log(`✓ Initialized ${t.length} spotlight cards`))}function r(){const e=t("#flow-canvas");if(!e)return;const n=e.getContext("2d");if(!n)return;let i=0,r=0,a=[],l=null,s=0,c=!1;const d=/Android|webOS|iPhone|iPad|iPod/i.test(navigator.userAgent)?30:58;function u(){i=window.innerWidth,r=window.innerHeight,e.width=i,e.height=r,a=[];for(let t=0;t<d;t++)a.push({x:Math.random()*i,y:Math.random()*r,r:1.8*Math.random()+.5,vx:.32*(Math.random()-.5),vy:.32*(Math.random()-.5),a:.35*Math.random()+.08})}function f(){if(!c)return void(l=null);if(l=requestAnimationFrame(f),s=(s+1)%2,0!==s)return;n.clearRect(0,0,i,r);const t="dark"===document.documentElement.getAttribute("data-theme")?"139,92,246":"37,99,235";for(const e of a)e.x+=e.vx,e.y+=e.vy,(e.x<0||e.x>i)&&(e.vx*=-1),(e.y<0||e.y>r)&&(e.vy*=-1),n.beginPath(),n.arc(e.x,e.y,e.r,0,2*Math.PI),n.fillStyle=`rgba(${t},${e.a})`,n.fill();for(let e=0;e<a.length;e++)for(let o=e+1;o<a.length;o++){const i=a[e].x-a[o].x,r=a[e].y-a[o].y,l=i*i+r*r;if(l<12100){const i=Math.sqrt(l);n.beginPath(),n.moveTo(a[e].x,a[e].y),n.lineTo(a[o].x,a[o].y),n.strokeStyle=`rgba(${t},${.06*(1-i/110)})`,n.stroke()}}}function h(){o()?c||(c=!0,l||f()):c=!1}u(),h(),window.addEventListener("resize",()=>{u()},{passive:!0}),document.addEventListener("visibilitychange",()=>{document.hidden?(c=!1,l&&(cancelAnimationFrame(l),l=null)):h()}),console.log(`✓ Canvas particles initialized (${d} particles)`)}function a(){const e=t("#heroParticles");if(!e)return;const n=e.getContext("2d");if(!n)return;let i=0,r=0,a=[],l=null,s=!1;function c(){const t=e.parentElement;i=t.offsetWidth,r=t.offsetHeight,e.width=i,e.height=r,a=[];for(let t=0;t<40;t++)a.push({x:Math.random()*i,y:Math.random()*r,r:2*Math.random()+1,vx:.5*(Math.random()-.5),vy:.5*(Math.random()-.5),a:.5*Math.random()+.2})}function d(){if(s){l=requestAnimationFrame(d),n.clearRect(0,0,i,r);for(const t of a)t.x+=t.vx,t.y+=t.vy,(t.x<0||t.x>i)&&(t.vx*=-1),(t.y<0||t.y>r)&&(t.vy*=-1),n.beginPath(),n.arc(t.x,t.y,t.r,0,2*Math.PI),n.fillStyle=`rgba(255,255,255,${t.a})`,n.fill()}else l=null}function u(){o()&&(s||(s=!0,l||d()))}c(),u(),window.addEventListener("resize",c,{passive:!0}),document.addEventListener("visibilitychange",()=>{document.hidden?(s=!1,l&&(cancelAnimationFrame(l),l=null)):u()}),console.log("✓ Hero particles initialized")}function l(){const t=e("[data-parallax]");if(0===t.length)return;if(!o())return void t.forEach(t=>t.style.transform="none");let n=!1;function i(){const e=window.scrollY;t.forEach(t=>{const n=parseFloat(t.dataset.parallax)||.5,o=-e*n;t.style.transform=`translateY(${o}px)`}),n=!1}window.addEventListener("scroll",function(){n||(n=!0,requestAnimationFrame(i))},{passive:!0}),i(),console.log(`✓ Parallax initialized for ${t.length} elements`)}function s(){const n=e('a[href^="#"]');0!==n.length&&(n.forEach(e=>{e.addEventListener("click",n=>{const o=e.getAttribute("href");if("#"===o)return;const i=t(o);i&&(n.preventDefault(),i.scrollIntoView({behavior:"smooth",block:"start"}),history.pushState&&history.pushState(null,null,o))})}),console.log(`✓ Smooth scroll initialized for ${n.length} links`))}function c(){o()?(i(),r(),a(),l(),s(),console.log("✓ AuraFX Effects initialized")):console.log("⚠ Animations disabled (prefers-reduced-motion)")}window.AuraFX=window.AuraFX||{},window.AuraFX.Effects={init:c,initSpotlightCards:i,initCanvasParticles:r,initHeroParticles:a,initParallax:l,initSmoothScroll:s},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",c):c()}();